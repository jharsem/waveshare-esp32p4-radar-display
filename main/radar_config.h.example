/*
 * Radar Display Configuration
 * All constants and configuration values for the ADSB radar display
 *
 * SETUP INSTRUCTIONS:
 * 1. Copy this file to radar_config.h
 * 2. Update WIFI_SSID and WIFI_PASSWORD with your credentials
 * 3. Optionally update HOME_LAT and HOME_LON to your location
 */

#pragma once

// Home location (Sydney, Australia)
// Change these to your location for accurate radar centering
#define HOME_LAT -33.8127201f
#define HOME_LON 151.2059618f

// Radar parameters
#define RADAR_RADIUS_NM 50              // Nautical miles
#define RADAR_MAX_AIRCRAFT 64           // Maximum aircraft to track

// Screen dimensions
#define SCREEN_SIZE 800
#define SCREEN_CENTER_X 400
#define SCREEN_CENTER_Y 400
#define RADAR_DISPLAY_RADIUS 390        // Pixels from center to edge

// Distance ring radii (in pixels)
#define RING_10NM_RADIUS 80             // 10nm ring
#define RING_25NM_RADIUS 200            // 25nm ring
#define RING_50NM_RADIUS 390            // 50nm ring (outer)

// Coordinate conversion
#define PIXELS_PER_NM (RADAR_DISPLAY_RADIUS / (float)RADAR_RADIUS_NM)  // ~7.8 px/nm

// WiFi configuration - UPDATE THESE WITH YOUR CREDENTIALS
#define WIFI_SSID      "your-wifi-network-name"
#define WIFI_PASSWORD  "your-wifi-password"
#define WIFI_MAX_RETRY  10
#define WIFI_CONNECT_TIMEOUT_MS 30000

// ADSB API configuration
#define ADSB_API_URL "https://api.adsb.lol/v2/point"
#define ADSB_POLL_INTERVAL_MS 10000     // 10 seconds
#define ADSB_MAX_BACKOFF_MS 300000      // 5 minutes
#define ADSB_AIRCRAFT_STALE_MS 60000    // 60 seconds

// Radar sweep animation
#define SWEEP_ROTATION_HZ 60            // 60 FPS
#define SWEEP_DEGREES_PER_FRAME 0.36f   // 6Â°/second = 60s full rotation
#define SWEEP_TRAIL_DEGREES 30          // Trail arc width

// Colors (RGB565-compatible)
#define COLOR_BACKGROUND_R 0x0A
#define COLOR_BACKGROUND_G 0x0F
#define COLOR_BACKGROUND_B 0x14

#define COLOR_RING_R 0x00
#define COLOR_RING_G 0x80
#define COLOR_RING_B 0x00

#define COLOR_SWEEP_R 0x00
#define COLOR_SWEEP_G 0xFF
#define COLOR_SWEEP_B 0x00

// Aircraft blip colors by altitude
#define COLOR_GROUND_R 0x50    // Dark grey (< 50 ft - on ground/taxiing)
#define COLOR_GROUND_G 0x50
#define COLOR_GROUND_B 0x50

#define COLOR_LOW_ALT_R 0xFF   // Yellow (50 - 10,000 ft)
#define COLOR_LOW_ALT_G 0xD7
#define COLOR_LOW_ALT_B 0x00

#define COLOR_MED_ALT_R 0xFF   // Orange (10,000 - 25,000 ft)
#define COLOR_MED_ALT_G 0x8C
#define COLOR_MED_ALT_B 0x00

#define COLOR_HIGH_ALT_R 0xFF  // White (> 25,000 ft)
#define COLOR_HIGH_ALT_G 0xFF
#define COLOR_HIGH_ALT_B 0xFF

// Aircraft altitude thresholds (feet)
#define ALT_GROUND_THRESHOLD 50
#define ALT_LOW_THRESHOLD 10000
#define ALT_MED_THRESHOLD 25000

// Display parameters
#define AIRCRAFT_BLIP_SIZE 8            // Diameter in pixels
#define AIRCRAFT_LABEL_FONT_SIZE 12
#define MAX_AIRCRAFT_WITH_LABELS 20     // Hide labels if more aircraft

// Timing
#define UI_UPDATE_INTERVAL_MS 1000      // Status bar update rate
#define SWEEP_TIMER_MS (1000 / SWEEP_ROTATION_HZ)  // 16ms for 60Hz

// Configuration structure for persistent storage
typedef struct {
    char wifi_ssid[64];        // WiFi SSID (max 63 chars + null)
    char wifi_password[64];    // WiFi password (max 63 chars + null)
    float home_lat;            // Home location latitude
    float home_lon;            // Home location longitude
    int radar_radius_nm;       // Radar radius in nautical miles
    char display_label[32];    // Display label (max 31 chars + null)
    bool show_aircraft_labels; // Show aircraft callsign/altitude labels
} radar_config_t;

// Default configuration (compile-time values)
static const radar_config_t DEFAULT_CONFIG = {
    .wifi_ssid = WIFI_SSID,
    .wifi_password = WIFI_PASSWORD,
    .home_lat = HOME_LAT,
    .home_lon = HOME_LON,
    .radar_radius_nm = RADAR_RADIUS_NM,
    .display_label = "RADAR - 50NM",
    .show_aircraft_labels = true
};
